<div class="custom-newsletter-index"">
<div class="footer-block--newsletter">
<div class="footer-block--newsletter-subtext">{{ block.settings.text }}</div>
 {%- form 'customer', id: 'ContactFooter', class: 'footer__newsletter newsletter-form' -%} <input type="hidden" name="contact[tags]" value="newsletter" />
<div class="newsletter-form__field-wrapper">
<div class="field"><input id="NewsletterForm--{{ block.id }}" type="email" name="contact[email]" class="field__input" value="{{ form.email }}" aria-required="true" autocorrect="off" autocapitalize="off" autocomplete="email" if="" form="" errors="" autofocus="" aria-invalid="true" aria-describedby="ContactFooter-error" elsif="" posted_successfully="" endif="" placeholder="{{ 'newsletter.label' | t }}" required="" /> <label class="field__label" for="NewsletterForm--{{ block.id }}"> {{ 'newsletter.label' | t }} </label> <button type="submit" class="newsletter-form__button button" name="commit" id="Subscribe" aria-label="{{ 'newsletter.button_label' | t }}"> Subscribe </button></div>
{%- if form.errors -%} <small class="newsletter-form__message form__message" id="ContactFooter-error">{% render 'icon-error' %}{{ form.errors.translated_fields['email'] | capitalize }} {{ form.errors.messages['email'] }}</small> {%- endif -%}</div>
{%- if form.posted_successfully? -%}
<h3 class="newsletter-form__message newsletter-form__message--success form__message" id="ContactFooter-success" tabindex="-1" autofocus="">{% render 'icon-success' %}{{ 'newsletter.success' | t }}</h3>
{%- endif -%} {%- endform -%}</div>
</div>
<script>
  jQuery(function($) {
    $('[name="contact[email]"]').on('keyup', function() {
      $('[name="contact[email]"]').val($(this).val())
    });

    $('.custom-newsletter-index .newsletter-form__button').on('click', function(e) {
      e.preventDefault();
      $('.footer__blocks-wrapper .newsletter-form').submit();
    });
  });
</script>

{% schema %}
  {
    "name": "Custom-newsletter",
    "settings": [],
     "presets": [
      {
        "name": "Custom-newsletter"
      }
    ]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}